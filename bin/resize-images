#!/bin/bash

if [ $# -ne 2 ]
  then
    echo "Usage:"
    echo "$0 DIR SIZE"
    echo "        DIR: directory with input files"
    echo "        SIZE: target size, something like 30% or 640x640"
    exit 0
fi

INPUT_DIR=$1
TARGET_SIZE=$2

for IMG in `ls $INPUT_DIR/*.png $INPUT_DIR/*.jpg`
do
  IMG_FILE=$(basename $IMG)
  echo "Resizing $INPUT_DIR/$IMG_FILE to $TARGET_SIZE, saving to $INPUT_DIR/processed-$IMG_FILE"
  convert $INPUT_DIR/$IMG_FILE -resize $TARGET_SIZE $INPUT_DIR/processed-$IMG_FILE
done
