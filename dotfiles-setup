#!/bin/bash

DOTFILES_PATH="$( cd "$(dirname "$0")" ; pwd -P )"

#
# VIM
#

# Install pathogen if needed
if [ ! -f ~/.vim/autoload/pathogen.vim ]; then
    mkdir -p ~/.vim/autoload ~/.vim/bundle 
    curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim
fi

DIR_VIMPLUGINS=~/.vim/bundle

# Install vim-surround
if [ ! -d "$DIR_VIMPLUGINS"/vim-surround ]; then
    git clone git://github.com/tpope/vim-surround.git $DIR_VIMPLUGINS/vim-surround
fi

# Install Ctrl-P
if [ ! -f "$DIR_VIMPLUGINS"/ctrlp.vim ]; then
    git clone https://github.com/kien/ctrlp.vim.git $DIR_VIMPLUGINS/ctrlp.vim
fi

# Create .vimrc symlink
rm ~/.vimrc
ln -s $DOTFILES_PATH/.vimrc ~/.vimrc

#
# TMUX
#

# Install tmux resurrect
DIR_TMUXR=~/git/tmux-resurrect/
if [ ! -d "$DIR_TMUXR" ]; then
    mkdir -p ~/git
    git clone https://github.com/tmux-plugins/tmux-resurrect $DIR_TMUXR
fi

# Create .tmux.conf symlink
rm ~/.tmux.conf
ln -s $DOTFILES_PATH/.tmux.conf ~/.tmux.conf

# Set keyboard repeat and delay - gnome only
gsettings set org.gnome.desktop.peripherals.keyboard repeat-interval 20
gsettings set org.gnome.desktop.peripherals.keyboard delay 250
